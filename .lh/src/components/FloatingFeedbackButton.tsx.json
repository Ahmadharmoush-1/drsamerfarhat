{
    "sourceFile": "src/components/FloatingFeedbackButton.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1765059788369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1765060031846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,22 +8,23 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <button\r\n-      onClick={scrollToFeedback}\r\n-      className=\"\r\n-        fixed bottom-5 right-5 z-50 \r\n-        bg-primary text-primary-foreground \r\n-        shadow-lg hover:shadow-xl \r\n-        w-12 h-12 rounded-full\r\n-        flex items-center justify-center\r\n-        transition-all duration-300\r\n-        hover:scale-110\r\n-      \"\r\n-    >\r\n-      <MessageCircle className=\"w-6 h-6\" />\r\n-    </button>\r\n+   {/* ⭐ Floating Feedback Button (TEXT ONLY) */}\r\n+<button\r\n+  onClick={scrollToFeedback}\r\n+  className=\"\r\n+    fixed bottom-5 right-5 z-50\r\n+    bg-primary text-primary-foreground\r\n+    px-4 py-2 rounded-full\r\n+    shadow-lg hover:shadow-xl\r\n+    text-sm font-semibold tracking-wide\r\n+    hover:scale-110 transition-all duration-300\r\n+  \"\r\n+>\r\n+  Feedbacks\r\n+</button>\r\n+\r\n   );\r\n };\r\n \r\n export default FloatingFeedbackButton;\r\n"
                },
                {
                    "date": 1765060041342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,23 +8,22 @@\n     }\r\n   };\r\n \r\n   return (\r\n-   {/* ⭐ Floating Feedback Button (TEXT ONLY) */}\r\n-<button\r\n-  onClick={scrollToFeedback}\r\n-  className=\"\r\n-    fixed bottom-5 right-5 z-50\r\n-    bg-primary text-primary-foreground\r\n-    px-4 py-2 rounded-full\r\n-    shadow-lg hover:shadow-xl\r\n-    text-sm font-semibold tracking-wide\r\n-    hover:scale-110 transition-all duration-300\r\n-  \"\r\n->\r\n-  Feedbacks\r\n-</button>\r\n-\r\n+    <button\r\n+      onClick={scrollToFeedback}\r\n+      className=\"\r\n+        fixed bottom-5 right-5 z-50 \r\n+        bg-primary text-primary-foreground \r\n+        shadow-lg hover:shadow-xl \r\n+        w-12 h-12 rounded-full\r\n+        flex items-center justify-center\r\n+        transition-all duration-300\r\n+        hover:scale-110\r\n+      \"\r\n+    >\r\n+      <MessageCircle className=\"w-6 h-6\" />\r\n+    </button>\r\n   );\r\n };\r\n \r\n export default FloatingFeedbackButton;\r\n"
                },
                {
                    "date": 1765060090470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,16 +13,17 @@\n       onClick={scrollToFeedback}\r\n       className=\"\r\n         fixed bottom-5 right-5 z-50 \r\n         bg-primary text-primary-foreground \r\n-        shadow-lg hover:shadow-xl \r\n-        w-12 h-12 rounded-full\r\n-        flex items-center justify-center\r\n+        shadow-lg hover:shadow-xl\r\n+        px-5 py-2 \r\n+        rounded-full\r\n+        text-sm font-semibold tracking-wide\r\n         transition-all duration-300\r\n         hover:scale-110\r\n       \"\r\n     >\r\n-      <MessageCircle className=\"w-6 h-6\" />\r\n+      Feedbacks\r\n     </button>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1765060647048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,317 @@\n-import { MessageCircle } from \"lucide-react\";\r\n+import { useState, useEffect } from \"react\";\r\n+import { Star, Send, User, Calendar, Trash } from \"lucide-react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n \r\n-const FloatingFeedbackButton = () => {\r\n-  const scrollToFeedback = () => {\r\n-    const el = document.getElementById(\"feedback\");\r\n-    if (el) {\r\n-      el.scrollIntoView({ behavior: \"smooth\" });\r\n+interface Review {\r\n+  id: string;\r\n+  name: string;\r\n+  rating: number;\r\n+  message: string;\r\n+  date: string;\r\n+}\r\n+\r\n+const STORAGE_KEY = \"dr_samer_reviews\";\r\n+\r\n+const loadReviews = (): Review[] => {\r\n+  try {\r\n+    const stored = localStorage.getItem(STORAGE_KEY);\r\n+    return stored ? JSON.parse(stored) : [];\r\n+  } catch {\r\n+    return [];\r\n+  }\r\n+};\r\n+\r\n+const saveReviews = (reviews: Review[]): void => {\r\n+  localStorage.setItem(STORAGE_KEY, JSON.stringify(reviews));\r\n+};\r\n+\r\n+const addReview = (review: Review): void => {\r\n+  const reviews = loadReviews();\r\n+  reviews.unshift(review);\r\n+  saveReviews(reviews);\r\n+};\r\n+\r\n+const FeedbackReviews = () => {\r\n+  const [reviews, setReviews] = useState<Review[]>([]);\r\n+  const [name, setName] = useState(\"\");\r\n+  const [rating, setRating] = useState(0);\r\n+  const [hoverRating, setHoverRating] = useState(0);\r\n+  const [message, setMessage] = useState(\"\");\r\n+  const [errors, setErrors] = useState<{ name?: string; rating?: string; message?: string }>({});\r\n+  const [success, setSuccess] = useState(false);\r\n+\r\n+  // ⭐ ADMIN MODE (password protected)\r\n+  const [adminMode, setAdminMode] = useState(false);\r\n+\r\n+  useEffect(() => {\r\n+    setReviews(loadReviews());\r\n+  }, []);\r\n+\r\n+  // ⭐ ADMIN LOGIN FUNCTION\r\n+  const handleAdminLogin = () => {\r\n+    const pass = prompt(\"Enter admin password:\");\r\n+\r\n+    if (pass === \"drsamer$\") {\r\n+      setAdminMode(true);\r\n+      alert(\"Admin mode activated.\");\r\n+    } else {\r\n+      alert(\"Incorrect password.\");\r\n     }\r\n   };\r\n \r\n+  // ⭐ DELETE REVIEW\r\n+  const deleteReview = (id: string) => {\r\n+    if (!window.confirm(\"Are you sure you want to delete this review?\")) return;\r\n+\r\n+    const updated = reviews.filter((r) => r.id !== id);\r\n+    setReviews(updated);\r\n+    saveReviews(updated);\r\n+  };\r\n+\r\n+  const validateForm = (): boolean => {\r\n+    const newErrors: { name?: string; rating?: string; message?: string } = {};\r\n+\r\n+    if (!name.trim()) newErrors.name = \"Name is required\";\r\n+    if (rating === 0) newErrors.rating = \"Please select a rating\";\r\n+    if (!message.trim()) newErrors.message = \"Message is required\";\r\n+\r\n+    setErrors(newErrors);\r\n+    return Object.keys(newErrors).length === 0;\r\n+  };\r\n+\r\n+  const handleSubmit = (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+\r\n+    if (!validateForm()) return;\r\n+\r\n+    const newReview: Review = {\r\n+      id: Date.now().toString(),\r\n+      name: name.trim(),\r\n+      rating,\r\n+      message: message.trim(),\r\n+      date: new Date().toLocaleDateString(\"en-US\", {\r\n+        month: \"short\",\r\n+        day: \"numeric\",\r\n+        year: \"numeric\",\r\n+      }),\r\n+    };\r\n+\r\n+    addReview(newReview);\r\n+    setReviews(loadReviews());\r\n+\r\n+    setName(\"\");\r\n+    setRating(0);\r\n+    setMessage(\"\");\r\n+    setErrors({});\r\n+    setSuccess(true);\r\n+\r\n+    setTimeout(() => setSuccess(false), 3000);\r\n+  };\r\n+\r\n+  const renderStars = (count: number, interactive = false, size = \"w-5 h-5\") => {\r\n+    return (\r\n+      <div className=\"flex gap-1\">\r\n+        {[1, 2, 3, 4, 5].map((star) => (\r\n+          <button\r\n+            key={star}\r\n+            type=\"button\"\r\n+            disabled={!interactive}\r\n+            className={`transition-all duration-200 ${\r\n+              interactive ? \"cursor-pointer hover:scale-110\" : \"cursor-default\"\r\n+            }`}\r\n+            onMouseEnter={() => interactive && setHoverRating(star)}\r\n+            onMouseLeave={() => interactive && setHoverRating(0)}\r\n+            onClick={() => interactive && setRating(star)}\r\n+          >\r\n+            <Star\r\n+              className={`${size} transition-colors duration-200 ${\r\n+                star <= (interactive ? hoverRating || rating : count)\r\n+                  ? \"fill-yellow-400 text-yellow-400\"\r\n+                  : \"fill-transparent text-muted-foreground/40\"\r\n+              }`}\r\n+            />\r\n+          </button>\r\n+        ))}\r\n+      </div>\r\n+    );\r\n+  };\r\n+\r\n   return (\r\n-    <button\r\n-      onClick={scrollToFeedback}\r\n-      className=\"\r\n-        fixed bottom-5 right-5 z-50 \r\n-        bg-primary text-primary-foreground \r\n-        shadow-lg hover:shadow-xl\r\n-        px-5 py-2 \r\n-        rounded-full\r\n-        text-sm font-semibold tracking-wide\r\n-        transition-all duration-300\r\n-        hover:scale-110\r\n-      \"\r\n-    >\r\n-      Feedbacks\r\n-    </button>\r\n+<section\r\n+  id=\"feedback\"\r\n+  className=\"py-12 md:py-20 bg-gradient-to-b from-background to-card/20\"\r\n+>\r\n+  <div className=\"container mx-auto px-4 md:px-6 max-w-3xl\">\r\n+\r\n+    {/* Section Header */}\r\n+    <div className=\"text-center mb-8 md:mb-12\">\r\n+      <span className=\"inline-block px-3 py-1 mb-3 text-[10px] sm:text-xs font-medium uppercase bg-primary/10 text-primary rounded-full\">\r\n+        Your Voice Matters\r\n+      </span>\r\n+\r\n+      <h2 className=\"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent leading-tight\">\r\n+        Patient Feedback\r\n+      </h2>\r\n+\r\n+      <p className=\"text-muted-foreground text-sm sm:text-base max-w-md mx-auto\">\r\n+        Share your experience with Dr. Samer Farhat\r\n+      </p>\r\n+\r\n+      {/* Admin Login */}\r\n+      {!adminMode && (\r\n+        <button\r\n+          onClick={handleAdminLogin}\r\n+          className=\"mt-2 text-[11px] text-primary underline\"\r\n+        >\r\n+          Admin Login\r\n+        </button>\r\n+      )}\r\n+\r\n+      {adminMode && (\r\n+        <p className=\"mt-2 text-[11px] text-primary\">Admin Mode Enabled</p>\r\n+      )}\r\n+    </div>\r\n+\r\n+    {/* Review Form */}\r\n+    <div className=\"bg-card/70 backdrop-blur-sm border border-border/40 rounded-xl p-4 sm:p-6 shadow-sm mb-10\">\r\n+      <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n+        <Star className=\"w-4 h-4 text-primary\" />\r\n+        Leave a Review\r\n+      </h3>\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+\r\n+        {/* Name */}\r\n+        <div>\r\n+          <label className=\"block text-xs font-medium mb-1\">Your Name</label>\r\n+          <Input\r\n+            value={name}\r\n+            onChange={(e) => setName(e.target.value)}\r\n+            placeholder=\"Enter your name\"\r\n+            className=\"h-9 text-base sm:text-sm\"  {/* ⭐ FIX SAFARI ZOOM */}\r\n+          />\r\n+          {errors.name && <p className=\"text-destructive text-[11px] mt-1\">{errors.name}</p>}\r\n+        </div>\r\n+\r\n+        {/* Rating */}\r\n+        <div>\r\n+          <label className=\"block text-xs font-medium mb-1\">Your Rating</label>\r\n+\r\n+          <div className=\"flex items-center gap-3\">\r\n+            {renderStars(rating, true, \"w-5 h-5\")}\r\n+            {rating > 0 && (\r\n+              <span className=\"text-xs text-muted-foreground\">\r\n+                {rating} stars\r\n+              </span>\r\n+            )}\r\n+          </div>\r\n+\r\n+          {errors.rating && <p className=\"text-destructive text-[11px] mt-1\">{errors.rating}</p>}\r\n+        </div>\r\n+\r\n+        {/* Message */}\r\n+        <div>\r\n+          <label className=\"block text-xs font-medium mb-1\">Your Message</label>\r\n+          <Textarea\r\n+            value={message}\r\n+            onChange={(e) => setMessage(e.target.value)}\r\n+            rows={3}\r\n+            className=\"text-base sm:text-sm resize-none\"  {/* ⭐ FIX SAFARI ZOOM */}\r\n+            placeholder=\"Share your experience...\"\r\n+          />\r\n+          {errors.message && <p className=\"text-destructive text-[11px] mt-1\">{errors.message}</p>}\r\n+        </div>\r\n+\r\n+        {/* Submit */}\r\n+        <Button className=\"w-full sm:w-auto px-6 h-9 text-sm\">\r\n+          <Send className=\"w-4 h-4 mr-1\" />\r\n+          Submit\r\n+        </Button>\r\n+\r\n+        {success && (\r\n+          <div className=\"text-green-500 text-xs mt-2\">Review submitted!</div>\r\n+        )}\r\n+      </form>\r\n+    </div>\r\n+\r\n+    {/* ⭐ REVIEWS CAROUSEL */}\r\n+    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n+      <User className=\"w-4 h-4 text-primary\" />\r\n+      Recent Reviews\r\n+      {reviews.length > 0 && (\r\n+        <span className=\"text-xs text-muted-foreground\">({reviews.length})</span>\r\n+      )}\r\n+    </h3>\r\n+\r\n+    {reviews.length === 0 ? (\r\n+      <div className=\"text-center py-10 bg-card/60 border border-border/30 rounded-xl\">\r\n+        <Star className=\"w-10 h-10 text-muted-foreground/30 mx-auto mb-2\" />\r\n+        <p className=\"text-muted-foreground text-sm\">\r\n+          No reviews yet. Be the first!\r\n+        </p>\r\n+      </div>\r\n+    ) : (\r\n+      <div\r\n+        className=\"\r\n+          flex gap-4 overflow-x-auto pb-4\r\n+          snap-x snap-mandatory scroll-smooth\r\n+          no-scrollbar\r\n+        \"\r\n+      >\r\n+        {reviews.map((review) => (\r\n+          <div\r\n+            key={review.id}\r\n+            className=\"\r\n+              min-w-[260px] sm:min-w-[300px]\r\n+              snap-start\r\n+              bg-card/70 backdrop-blur-md\r\n+              border border-border/40 rounded-xl\r\n+              p-4 shadow-sm flex-shrink-0\r\n+            \"\r\n+          >\r\n+            {/* Header */}\r\n+            <div className=\"flex items-center justify-between mb-2\">\r\n+              <div className=\"flex items-center gap-2\">\r\n+                <div className=\"w-9 h-9 rounded-full bg-primary/20 flex items-center justify-center text-primary font-semibold text-sm\">\r\n+                  {review.name.charAt(0).toUpperCase()}\r\n+                </div>\r\n+                <div>\r\n+                  <p className=\"font-medium text-sm\">{review.name}</p>\r\n+                  {renderStars(review.rating)}\r\n+                </div>\r\n+              </div>\r\n+\r\n+              <span className=\"text-[11px] text-muted-foreground flex items-center gap-1\">\r\n+                <Calendar className=\"w-3 h-3\" />\r\n+                {review.date}\r\n+              </span>\r\n+            </div>\r\n+\r\n+            {/* Message */}\r\n+            <p className=\"text-[13px] text-muted-foreground leading-relaxed\">\r\n+              {review.message}\r\n+            </p>\r\n+\r\n+            {/* Admin Delete */}\r\n+            {adminMode && (\r\n+              <button\r\n+                onClick={() => deleteReview(review.id)}\r\n+                className=\"mt-3 text-red-500 text-[11px] flex items-center gap-1 hover:underline\"\r\n+              >\r\n+                <Trash className=\"w-3 h-3\" />\r\n+                Delete Review\r\n+              </button>\r\n+            )}\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n+    )}\r\n+\r\n+  </div>\r\n+</section>\r\n   );\r\n };\r\n \r\n-export default FloatingFeedbackButton;\r\n+export default FeedbackReviews;\r\n"
                },
                {
                    "date": 1765060657588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,9 @@\n           <Input\r\n             value={name}\r\n             onChange={(e) => setName(e.target.value)}\r\n             placeholder=\"Enter your name\"\r\n-            className=\"h-9 text-base sm:text-sm\"  {/* ⭐ FIX SAFARI ZOOM */}\r\n+            className=\"h-9 text-base sm:text-sm\" \r\n           />\r\n           {errors.name && <p className=\"text-destructive text-[11px] mt-1\">{errors.name}</p>}\r\n         </div>\r\n \r\n"
                },
                {
                    "date": 1765060662962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n           <Textarea\r\n             value={message}\r\n             onChange={(e) => setMessage(e.target.value)}\r\n             rows={3}\r\n-            className=\"text-base sm:text-sm resize-none\"  {/* ⭐ FIX SAFARI ZOOM */}\r\n+            className=\"text-base sm:text-sm resize-none\"  \r\n             placeholder=\"Share your experience...\"\r\n           />\r\n           {errors.message && <p className=\"text-destructive text-[11px] mt-1\">{errors.message}</p>}\r\n         </div>\r\n"
                }
            ],
            "date": 1765059788369,
            "name": "Commit-0",
            "content": "import { MessageCircle } from \"lucide-react\";\r\n\r\nconst FloatingFeedbackButton = () => {\r\n  const scrollToFeedback = () => {\r\n    const el = document.getElementById(\"feedback\");\r\n    if (el) {\r\n      el.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={scrollToFeedback}\r\n      className=\"\r\n        fixed bottom-5 right-5 z-50 \r\n        bg-primary text-primary-foreground \r\n        shadow-lg hover:shadow-xl \r\n        w-12 h-12 rounded-full\r\n        flex items-center justify-center\r\n        transition-all duration-300\r\n        hover:scale-110\r\n      \"\r\n    >\r\n      <MessageCircle className=\"w-6 h-6\" />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FloatingFeedbackButton;\r\n"
        }
    ]
}